"use strict";define(function(require,exports,module){mui.plusReady(function(){ReactDOM.render(React.createElement(Locker,null),mui(".container")[0])});var Locker=React.createClass({displayName:"Locker",componentDidMount:function(){mui(".mui-locker").locker();var marginTop=(plus.screen.resolutionHeight-300)/2-20,holder=mui(".holder")[0],alert=mui(".alert")[0],record=[],reCount=0;holder.style.margin=marginTop+"px auto 10px auto",holder.addEventListener("done",function(event){var rs=event.detail;if(rs.points.length<4)return alert.innerText="手势太简单了",record=[],void rs.sender.clear();record.push(rs.points.join(""));var search=window.location.search;if(-1!=search.indexOf("reset=true"))if(record.length>=2){if(record[0]==record[1]){plus.storage.setItem("LockerPass",record[0]),alert.innerText="手势设定完成";var curView=plus.webview.currentWebview();curView.back()}else alert.innerText="两次手势设定不一致";rs.sender.clear(),record=[]}else alert.innerText="请确认手势设定",rs.sender.clear();else{var pass=plus.storage.getItem("LockerPass");if(record[0]==pass){alert.innerText="手势正确";var mask=mui.createMask();mask.show(),setTimeout(function(){mask.close(),plus.webview.close("locker-dom")},1e3)}else reCount++,alert.innerText="手势错误",record=[],rs.sender.clear(),reCount>=4&&(console.log(reCount),mui(".forgotPass")[0].classList.remove("mui-hidden"))}})},render:function(){var _this=this;return React.createElement("div",{className:"mui-content"},React.createElement("div",{className:"mui-locker holder","data-locker-options":'{"ringColor":"rgba(210,210,210,1)","fillColor":"#ffffff","pointColor":"rgba(0,136,204,1)","lineColor":"rgba(0,136,204,1)"}',"data-locker-width":"300","data-locker-height":"300"}),React.createElement("div",{className:"alert"}),React.createElement("div",{className:"forgotPassContainer"},React.createElement("a",{className:"mui-hidden forgotPass",onClick:function(e){return _this.forgotPass(e)}},"忘记密码?")))},forgotPass:function(e){e.preventDefault(),mui.prompt("请输入解锁码:",function(e){0==e.index&&("888"==e.value?plus.webview.close("locker-dom"):alert("无效的解锁码"))})}})});
//# sourceMappingURL=AppSetting-locker.js.map